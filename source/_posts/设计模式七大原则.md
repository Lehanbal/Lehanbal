title: 设计模式七大原则
author: Lehanbal
tags:
  - 设计模式
  - JAVA
categories:
  - 设计模式
date: 2021-06-04 20:37:00
---
## 七大原则

1. 单一职责原则

   每个类单独负责一个功能，当类方法较少的时候也可以考虑只在方法上满足单一职责原则。

2. 接口隔离原则

   每个类应该通过最小限度的接口去依赖一个实现类，多态思维。

3. 依赖倒转原则

   原话：高层模块不应该依赖低层模块，二者都应该依赖其抽象；抽象不应该依赖细节，细节应该依赖抽象； 依赖倒转的中心思想是面向接口编程。

   换句话就是，我们应该通过接口或者抽象类进行依赖，不应该使用具体的实现类进行依赖。

4. 里氏替换原则

   针对继承所带来的入侵性所定的原则，当一个子类重写父类的方法的时候，会对原先父类的封装性造成破坏，所以需要将父类和子类共有的方法单独提成一个新的base类，让父类和子类都去继承这个base类，之后再在原先的父类和子类去写那个有差异的方法，这样就保证了类的封闭性。如果仍然有需求使用两个类的方法，那就使用依赖、聚合、组合的方式去使用。

5. 开闭原则 ocp（核心原则）

   遵循的所有原则都是为了遵循开闭原则，我们应该对提供方开放扩展，对使用方关闭修改，增加一个新功能的时候不应该去修改源码来达成目的，而是通过扩展的方式去实现。

6. 迪米特法则（最少知道原则）

   一个类使用另一个类的时候，应当对该类保持最少的理解。换句话说，就是对自己依赖的类知道得越少越好。对于被依赖的类，不管有多复杂，都应当将逻辑封装在类的内部。

   核心是降低类之间的耦合，减少每个类之间不必要的依赖。

   尽量避免被依赖的类以局部变量的方式出现在类的内部。

7. 合成复用原则

   尽量使用合成/聚合的方式，而不是使用继承。

## 设计核心思想

1. 找出代码中需要变化的地方，把它们独立出来，不要和那些不需要变化的代码混在一起。
2. 针对接口编程，而不是针对细节编程。
3. 为了交互对象之间的松耦合设计而努力。

## UML

### 依赖、泛化和实现

泛化关系就是继承关系。

依赖包括关联、组合、聚合和实现，是更广阔的统称，只要在类中用到了对方，那么就存在依赖的关系。

实现就是一个类实现了接口，这个过程就是实现，实现也就是依赖关系的一种特例。

### 关联、聚合和组合

关联关系具有导航性，指定双方的数量关系，即A类包含几个B类，B类又包含几个A类。

聚合关系可以理解为并不掌握依赖的类的生命周期，即并没有在类中声明被依赖的类。

组合关系则是掌握着依赖的类的生命周期，当该类生命周期结束时，被依赖的类的生命周期也会结束。

